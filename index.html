<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Swarg | Supreme Shield Stable</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link href="https://api.fontshare.com/v2/css?f[]=satoshi@300,400,500,700,900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,900;1,900&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">

<style>
body { background:#020406;color:#fff;font-family:Satoshi }
.lux-input{background:#0008;border:1px solid #ffffff22;border-radius:20px;padding:18px;color:#00fff2;width:100%;margin-bottom:16px}
.lux-btn{background:linear-gradient(135deg,#00fff2,#3b82f6);color:#000;font-weight:800;padding:18px;border-radius:20px;width:100%}
</style>
</head>

<body class="flex justify-center items-center min-h-screen">

<div class="w-full max-w-xl p-6">

<h1 class="text-center text-6xl font-black italic mb-6">Swarg</h1>
<p class="text-center tracking-widest mb-6">Amar Kumar âœ”</p>

<!-- ðŸ” SECRET KEY (ADDED ONLY) -->
<input id="secretKey" type="password" placeholder="Enter secret password" class="lux-input">

<textarea id="input" placeholder="Enter text..." class="lux-input h-40"></textarea>

<button onclick="encryptData()" class="lux-btn mb-4">Encrypt</button>
<button onclick="decryptData()" class="lux-btn">Decrypt</button>

<pre id="output" class="lux-input h-40 mt-6"></pre>

</div>

<script>
const enc = new TextEncoder();
const dec = new TextDecoder();

async function getKey(password){
 const baseKey = await crypto.subtle.importKey(
  "raw",enc.encode(password),"PBKDF2",false,["deriveKey"]
 );
 return crypto.subtle.deriveKey(
  {name:"PBKDF2",salt:enc.encode("SWARG"),iterations:100000,hash:"SHA-256"},
  baseKey,{name:"AES-GCM",length:256},false,["encrypt","decrypt"]
 );
}

async function encryptData(){
 const text = input.value;
 const pass = secretKey.value;
 if(!text || !pass){ alert("Text + Password required"); return; }

 const iv = crypto.getRandomValues(new Uint8Array(12));
 const key = await getKey(pass);
 const encrypted = await crypto.subtle.encrypt(
  {name:"AES-GCM",iv},key,enc.encode(text)
 );

 output.textContent = btoa(JSON.stringify({
  iv:Array.from(iv),
  data:Array.from(new Uint8Array(encrypted))
 }));
}

async function decryptData(){
 try{
  const pass = secretKey.value;
  const data = JSON.parse(atob(output.textContent));
  const key = await getKey(pass);

  const decrypted = await crypto.subtle.decrypt(
   {name:"AES-GCM",iv:new Uint8Array(data.iv)},
   key,new Uint8Array(data.data)
  );
  output.textContent = dec.decode(decrypted);
 }catch{
  alert("Wrong password or invalid data");
 }
}
</script>

</body>
</html>
